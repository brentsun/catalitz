{"version":3,"sources":["../../../src/com/requests/account.js"],"names":["data","endpoint","address","options","url","formatEndpoint","method","headers","urlEncoded","qs","harvestedBlocks","incomingTransactions","txHash","txId","params","outgoingTransactions","unconfirmedTransactions","unlockInfo","startHarvesting","privateKey","stopHarvesting","forwarded","namespacesOwned","parent","mosaicDefinitionsCreated","mosaicDefinitions","mosaicsOwned","allTransactions","module","exports","mosaics","owned","definitions","allDefinitions","namespaces","harvesting","blocks","start","stop","transactions","incoming","outgoing","unconfirmed","all"],"mappings":"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","file":"account.js","sourcesContent":["import Helpers from '../../utils/helpers';\nimport Headers from './headers';\nimport Send from './send';\n\n/**\n * Gets the AccountMetaDataPair of an account.\n *\n * @param {object} endpoint - An NIS endpoint object\n * @param {string} address - An account address\n *\n * @return {object} - An [AccountMetaDataPair]{@link http://bob.nem.ninja/docs/#accountMetaDataPair} object\n */\nlet data = function(endpoint, address) {\n\t// Configure the request\n\tvar options = {\n\t    url: Helpers.formatEndpoint(endpoint) + '/account/get',\n\t    method: 'GET',\n\t    headers: Headers.urlEncoded,\n\t    qs: {'address': address}\n\t}\n\t// Send the request\n\treturn Send(options);\n}\n\n/**\n * Gets an array of harvest info objects for an account.\n *\n * @param {object} endpoint - An NIS endpoint object\n * @param {string} address - An account address\n *\n * @return {array} - An array of [HarvestInfo]{@link http://bob.nem.ninja/docs/#harvestInfo} objects\n */\nlet harvestedBlocks = function(endpoint, address){\n\t// Configure the request\n\tvar options = {\n\t    url: Helpers.formatEndpoint(endpoint) + '/account/harvests',\n\t    method: 'GET',\n\t    headers: Headers.urlEncoded,\n\t    qs: {'address': address}\n\t}\n\t// Send the request\n\treturn Send(options);\n}\n\n/**\n * Gets an array of TransactionMetaDataPair objects where the recipient has the address given as parameter to the request.\n *\n * @param {object} endpoint - An NIS endpoint object\n * @param {string} address - An account address\n * @param {string} txHash - The 256 bit sha3 hash of the transaction up to which transactions are returned. (optional)\n * @param {string} txId - The transaction id up to which transactions are returned. (optional)\n *\n * @return {array} - An array of [TransactionMetaDataPair]{@link http://bob.nem.ninja/docs/#transactionMetaDataPair} objects\n */\nlet incomingTransactions = function(endpoint, address, txHash, txId){\n\t// Arrange\n\tlet params = {'address': address};\n\tif (txHash) params['hash'] = txHash;\n\tif (txId) params['id'] = txId;\n\n\t// Configure the request\n\tvar options = {\n\t    url: Helpers.formatEndpoint(endpoint) + '/account/transfers/incoming',\n\t    method: 'GET',\n\t    headers: Headers.urlEncoded,\n\t    qs: params\n\t}\n\t// Send the request\n\treturn Send(options);\n}\n\n/**\n * Gets an array of TransactionMetaDataPair objects where the sender has the address given as parameter to the request.\n *\n * @param {object} endpoint - An NIS endpoint object\n * @param {string} address - An account address\n * @param {string} txHash - The 256 bit sha3 hash of the transaction up to which transactions are returned. (optional)\n * @param {string} txId - The transaction id up to which transactions are returned. (optional)\n *\n * @return {array} - An array of [TransactionMetaDataPair]{@link http://bob.nem.ninja/docs/#transactionMetaDataPair} objects\n */\nlet outgoingTransactions = function(endpoint, address, txHash, txId){\n\t// Arrange\n\tlet params = {'address': address};\n\tif (txHash) params['hash'] = txHash;\n\tif (txId) params['id'] = txId;\n\n\t// Configure the request\n\tvar options = {\n\t    url: Helpers.formatEndpoint(endpoint) + '/account/transfers/outgoing',\n\t    method: 'GET',\n\t    headers: Headers.urlEncoded,\n\t    qs: params\n\t}\n\t// Send the request\n\treturn Send(options);\n}\n\n/**\n * Gets the array of transactions for which an account is the sender or receiver and which have not yet been included in a block.\n *\n * @param {object} endpoint - An NIS endpoint object\n * @param {string} address - An account address\n *\n * @return {array} - An array of [UnconfirmedTransactionMetaDataPair]{@link http://bob.nem.ninja/docs/#unconfirmedTransactionMetaDataPair} objects\n */\nlet unconfirmedTransactions = function(endpoint, address){\n\t// Configure the request\n\tvar options = {\n\t    url: Helpers.formatEndpoint(endpoint) + '/account/unconfirmedTransactions',\n\t    method: 'GET',\n\t    headers: Headers.urlEncoded,\n\t    qs: {'address': address}\n\t}\n\t// Send the request\n\treturn Send(options);\n}\n\n/**\n * Gets information about the maximum number of allowed harvesters and how many harvesters are already using the node\n *\n * @param {object} endpoint - An NIS endpoint object\n *\n * @return {object} - An [UnlockInfo]{@link http://bob.nem.ninja/docs/#retrieving-the-unlock-info} object\n */\nlet unlockInfo = function(endpoint) {\n\t// Configure the request\n\tvar options = {\n\t    url: Helpers.formatEndpoint(endpoint) + '/account/unlocked/info',\n\t    method: 'POST',\n\t    headers: Headers.urlEncoded\n\t}\n\t// Send the request\n\treturn Send(options);\n};\n\n/**\n * Unlocks an account (starts harvesting).\n *\n * @param {object} endpoint - An NIS endpoint object\n * @param {string} privateKey - A delegated account private key\n *\n * @return - Nothing\n */\nlet startHarvesting = function(endpoint, privateKey){\n\t// Configure the request\n\tvar options = {\n\t    url: Helpers.formatEndpoint(endpoint) + '/account/unlock',\n\t    method: 'POST',\n\t    headers: Headers.urlEncoded,\n\t\tqs: {'value': privateKey}\n\t}\n\t// Send the request\n\treturn Send(options);\n};\n\n /**\n * Locks an account (stops harvesting).\n *\n * @param {object} endpoint - An NIS endpoint object\n * @param {string} privateKey - A delegated account private key\n *\n * @return - Nothing\n */\nlet stopHarvesting = function(endpoint, privateKey){\n\t// Configure the request\n\tvar options = {\n\t    url: Helpers.formatEndpoint(endpoint) + '/account/lock',\n\t    method: 'POST',\n\t    headers: Headers.urlEncoded,\n\t\tqs: {'value': privateKey}\n\t}\n\t// Send the request\n\treturn Send(options);\n};\n\n/**\n * Gets the AccountMetaDataPair of the account for which the given account is the delegate account\n *\n * @param {object} endpoint - An NIS endpoint object\n * @param {string} address - An account address\n *\n * @return {object} - An [AccountMetaDataPair]{@link http://bob.nem.ninja/docs/#accountMetaDataPair} object\n */\nlet forwarded = function(endpoint, address) {\n\t// Configure the request\n\tvar options = {\n\t    url: Helpers.formatEndpoint(endpoint) + '/account/get/forwarded',\n\t    method: 'GET',\n\t    headers: Headers.urlEncoded,\n\t    qs: {'address': address}\n\t}\n\t// Send the request\n\treturn Send(options);\n}\n\n/**\n * Gets namespaces that an account owns\n *\n * @param {object} endpoint - An NIS endpoint object\n * @param {string} address - An account address\n * @param {string} parent - The namespace parent (optional)\n *\n * @return {object} - An array of [NamespaceMetaDataPair]{@link http://bob.nem.ninja/docs/#namespaceMetaDataPair} objects\n */\nlet namespacesOwned = function(endpoint, address, parent){\n\t// Configure the request\n\tvar options = {\n\t    url: Helpers.formatEndpoint(endpoint) + '/account/namespace/page',\n\t    method: 'GET',\n\t    headers: Headers.urlEncoded,\n\t    qs: { 'address': address, 'parent': parent || \"\"}\n\t}\n\t// Send the request\n\treturn Send(options);\n}\n\n/**\n * Gets mosaic definitions that an account has created\n *\n * @param {object} endpoint - An NIS endpoint object\n * @param {string} address - An account address\n * @param {string} parent - The namespace parent (optional)\n *\n * @return {object} - An array of [MosaicDefinition]{@link http://bob.nem.ninja/docs/#mosaicDefinition} objects\n */\nlet mosaicDefinitionsCreated = function(endpoint, address, parent){\n\t// Configure the request\n\tvar options = {\n\t    url: Helpers.formatEndpoint(endpoint) + '/account/mosaic/definition/page',\n\t    method: 'GET',\n\t    headers: Headers.urlEncoded,\n\t    qs: { 'address': address, 'parent': parent || \"\"}\n\t}\n\t// Send the request\n\treturn Send(options);\n}\n\n/**\n * Gets mosaic definitions that an account owns\n *\n * @param {object} endpoint - An NIS endpoint object\n * @param {string} address - An account address\n *\n * @return {array} - An array of [MosaicDefinition]{@link http://bob.nem.ninja/docs/#mosaicDefinition} objects\n */\nlet mosaicDefinitions = function(endpoint, address){\n\t// Configure the request\n\tvar options = {\n\t    url: Helpers.formatEndpoint(endpoint) + '/account/mosaic/owned/definition',\n\t    method: 'GET',\n\t    headers: Headers.urlEncoded,\n\t    qs: { 'address': address }\n\t}\n\t// Send the request\n\treturn Send(options);\n}\n\n/**\n * Gets mosaics that an account owns\n *\n * @param {object} endpoint - An NIS endpoint object\n * @param {string} address - An account address\n *\n * @return {array} - An array of [Mosaic]{@link http://bob.nem.ninja/docs/#mosaic} objects\n */\nlet mosaicsOwned = function(endpoint, address){\n\t// Configure the request\n\tvar options = {\n\t    url: Helpers.formatEndpoint(endpoint) + '/account/mosaic/owned',\n\t    method: 'GET',\n\t    headers: Headers.urlEncoded,\n\t    qs: { 'address': address }\n\t}\n\t// Send the request\n\treturn Send(options);\n}\n\n/**\n * Gets all transactions of an account\n *\n * @param {object} endpoint - An NIS endpoint object\n * @param {string} address - An account address\n * @param {string} txHash - The 256 bit sha3 hash of the transaction up to which transactions are returned. (optional)\n * @param {string} txId - The transaction id up to which transactions are returned. (optional)\n *\n * @return {array} - An array of [TransactionMetaDataPair]{@link http://bob.nem.ninja/docs/#transactionMetaDataPair} objects\n */\nlet allTransactions = function(endpoint, address, txHash, txId){\n\t// Arrange\n\tlet params = {'address': address};\n\tif (txHash) params['hash'] = txHash;\n\tif (txId) params['id'] = txId;\n\n\t// Configure the request\n\tvar options = {\n\t    url: Helpers.formatEndpoint(endpoint) + '/account/transfers/all',\n\t    method: 'GET',\n\t    headers: Headers.urlEncoded,\n\t    qs: params\n\t}\n\t// Send the request\n\treturn Send(options);\n}\n\nmodule.exports = {\n\tdata,\n\tunlockInfo,\n\tforwarded,\n\tmosaics: {\n\t\towned: mosaicsOwned,\n\t\tdefinitions: mosaicDefinitionsCreated,\n\t\tallDefinitions: mosaicDefinitions\n\t},\n\tnamespaces: {\n\t\towned: namespacesOwned\n\t},\n\tharvesting: {\n\t\tblocks: harvestedBlocks,\n\t\tstart: startHarvesting,\n\t\tstop: stopHarvesting\n\t},\n\ttransactions: {\n\t\tincoming: incomingTransactions,\n\t\toutgoing: outgoingTransactions,\n\t\tunconfirmed: unconfirmedTransactions,\n\t\tall: allTransactions\n\t}\n}"]}